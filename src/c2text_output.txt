ğŸ“ src
  ğŸ“„ app.config.ts
  ğŸ“„ app.scss
  ğŸ“„ app.ts
  ğŸ“ components
    ğŸ“ faq-section
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ search-bar
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ service-card
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“ config
    ğŸ“„ index.ts
  ğŸ“„ index.html
  ğŸ“ pages
    ğŸ“ project
      ğŸ“„ index.config.ts
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“ services
    ğŸ“„ project-api.ts
    ğŸ“„ project-mock-data.ts
  ğŸ“ styles
    ğŸ“„ custom-theme.scss
  ğŸ“ types
    ğŸ“„ index.ts
  ğŸ“ utils
    ğŸ“„ error.ts

===== File: app.config.ts =====
// app.config.ts
export default defineAppConfig({
  pages: [
    'pages/index/index',
    'pages/project/index',
    'pages/cases/index',
    'pages/contact/index'
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#ffffff',
    navigationBarTitleText: 'é˜²æ°´æœåŠ¡',
    navigationBarTextStyle: 'black',
    backgroundColor: '#f6f6f6'
  },
  tabBar: {
    color: '#999999',
    selectedColor: '#2563eb',
    backgroundColor: '#ffffff',
    borderStyle: 'white',
    list: [
      {
        pagePath: 'pages/index/index',
        text: 'é¦–é¡µ',
        iconPath: 'assets/tab-bar/home.png',
        selectedIconPath: 'assets/tab-bar/home-active.png'
      },
      {
        pagePath: 'pages/project/index',
        text: 'æœåŠ¡',
        iconPath: 'assets/tab-bar/service.png',
        selectedIconPath: 'assets/tab-bar/service-active.png'
      },
      {
        pagePath: 'pages/cases/index',
        text: 'æ¡ˆä¾‹',
        iconPath: 'assets/tab-bar/case.png',
        selectedIconPath: 'assets/tab-bar/case-active.png'
      },
      {
        pagePath: 'pages/contact/index',
        text: 'è”ç³»æˆ‘ä»¬',
        iconPath: 'assets/tab-bar/contact.png',
        selectedIconPath: 'assets/tab-bar/contact-active.png'
      }
    ]
  }
})
===== End of File: app.config.ts =====


===== File: app.scss =====
// app.scss
@import "./styles/custom-theme.scss";

// åŸºç¡€æ ·å¼è®¾ç½®
page {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  font-size: 28px;
  line-height: 1.5;
  background: $color-bg;
  color: $color-text-base;
}
===== End of File: app.scss =====


===== File: app.ts =====
// app.tsx
import { PropsWithChildren } from 'react'
import { useLaunch, useError, getStorageSync, setStorageSync, onNetworkStatusChange } from '@tarojs/taro'
import './styles/custom-theme.scss'
import './app.scss'

function App({ children }: PropsWithChildren<any>) {
  useLaunch(() => {
    initApp()
  })

  useError((error) => {
    console.error('App Error:', error)
  })

  const initApp = async () => {
    try {
      // åˆå§‹åŒ–æ—¥å¿—
      const logs = getStorageSync('logs') || []
      logs.unshift(Date.now())
      setStorageSync('logs', logs)

      // ç½‘ç»œçŠ¶æ€ç›‘å¬
      onNetworkStatusChange((res) => {
        console.log('network status:', res.isConnected)
      })

    } catch (error) {
      console.error('App initialization failed:', error)
    }
  }

  return children
}

export default App
===== End of File: app.ts =====


===== File: components\faq-section\index.scss =====
/* components/faq-section/index.scss */
@import "../../styles/custom-theme.scss";

.faq-section {
  padding: 0 24px;

  .section-title {
    font-size: 36px;
    font-weight: 600;
    color: $color-text-base;
    margin-bottom: 32px;
  }

  .faq-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .faq-item {
    border-radius: 16px;
    background-color: $color-bg-base;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

    &.active {
      .arrow {
        transform: rotate(180deg);
      }
    }
  }

  .faq-header {
    position: relative;
    padding: 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;

    &:active {
      opacity: 0.7;
    }
  }

  .header-content {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 12px;
    padding-right: 32px;
  }

  .question {
    font-size: 30px;
    font-weight: 500;
    color: $color-text-base;
  }

  .category {
    display: inline-block;
    padding: 4px 12px;
    font-size: 24px;
    color: $color-brand;
    background: rgba($color-brand, 0.1);
    border-radius: 32px;
  }

  .arrow {
    position: absolute;
    right: 24px;
    top: 50%;
    margin-top: -6px;
    width: 12px;
    height: 12px;
    border-right: 2px solid $color-text-secondary;
    border-bottom: 2px solid $color-text-secondary;
    transform: rotate(45deg);
    transition: transform 0.2s ease;
  }

  .faq-content {
    padding: 0 24px 24px;
  }

  .answer {
    font-size: 28px;
    line-height: 1.6;
    color: $color-text-secondary;
  }
}

// å°å±é€‚é…
@media screen and (max-width: 375px) {
  .faq-section {
    padding: 0 16px;

    .section-title {
      font-size: 32px;
      margin-bottom: 24px;
    }

    .faq-list {
      gap: 12px;
    }

    .faq-header {
      padding: 20px;
    }

    .question {
      font-size: 28px;
    }

    .category {
      font-size: 22px;
      padding: 4px 10px;
    }

    .faq-content {
      padding: 0 20px 20px;
    }

    .answer {
      font-size: 26px;
    }
  }
}
===== End of File: components\faq-section\index.scss =====


===== File: components\faq-section\index.tsx =====
// components/faq-section/index.tsx
import { useState, useCallback } from 'react'
import { View, Text } from '@tarojs/components'
import type { FAQ } from '../../types'
import './index.scss'

interface FAQSectionProps {
  faqs: FAQ[]
  title?: string
  className?: string
  onFAQOpen?: (index: number) => void
  onFAQClose?: (index: number) => void
}

export const FAQSection: React.FC<FAQSectionProps> = ({
  faqs,
  title = 'å¸¸è§é—®é¢˜',
  className = '',
  onFAQOpen,
  onFAQClose
}) => {
  const [openIndex, setOpenIndex] = useState<number | null>(null)

  const handleToggle = useCallback((index: number) => {
    setOpenIndex(prevIndex => {
      const newIndex = prevIndex === index ? null : index
      if (newIndex === null) {
        onFAQClose?.(index)
      } else {
        onFAQOpen?.(index)
      }
      return newIndex
    })
  }, [onFAQOpen, onFAQClose])

  if (!Array.isArray(faqs) || !faqs.length) return null

  return (
    <View className={`faq-section ${className}`}>
      <View className='section-title'>{title}</View>
      <View className='faq-list'>
        {faqs.map((faq, index) => (
          <View 
            key={faq.id} 
            className={`faq-item ${openIndex === index ? 'active' : ''}`}
          >
            <View 
              className='faq-header'
              onClick={() => handleToggle(index)}
            >
              <View className='header-content'>
                <Text className='question'>{faq.question}</Text>
                {faq.category && (
                  <Text className='category'>{faq.category}</Text>
                )}
              </View>
              <View className='arrow' />
            </View>
            {openIndex === index && (
              <View className='faq-content'>
                <Text className='answer'>{faq.answer}</Text>
              </View>
            )}
          </View>
        ))}
      </View>
    </View>
  )
}
===== End of File: components\faq-section\index.tsx =====


===== File: components\search-bar\index.scss =====
// components/search-bar/index.scss
@import "../../styles/custom-theme.scss";

.search-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: $color-bg-base;

  .search-input-wrap {
    flex: 1;
    height: 72px;
    background: $color-bg-light;
    border-radius: 36px;
    padding: 0 16px;
    display: flex;
    align-items: center;
    position: relative;
    transition: all 0.25s ease;
  }

  &.is-focused .search-input-wrap {
    background: darken($color-bg-light, 2%);
    box-shadow: inset 0 0 0 1px rgba($color-brand, 0.1);
  }

  &.is-loading {
    .search-input-wrap {
      opacity: 0.8;
    }

    .loading-icon {
      width: 20px;
      height: 20px;
      border: 2px solid $color-text-secondary;
      border-top-color: transparent;
      border-radius: 50%;
      animation: search-loading 0.8s linear infinite;
    }
  }

  .search-icon {
    width: 40px;
    height: 40px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.5;

    .icon-circle {
      position: absolute;
      left: 8px;
      top: 8px;
      width: 16px;
      height: 16px;
      border: 2px solid $color-text-secondary;
      border-radius: 50%;
    }

    .icon-line {
      position: absolute;
      left: 22px;
      top: 22px;
      width: 10px;
      height: 2px;
      background: $color-text-secondary;
      transform: rotate(45deg);
      transform-origin: 0 50%;
    }
  }

  .search-input {
    flex: 1;
    height: 100%;
    font-size: 28px;
    color: $color-text-base;
    padding: 0 8px;
    background: transparent;
    
    &:disabled {
      opacity: 0.7;
    }
  }

  .placeholder {
    color: $color-text-placeholder;
  }

  .clear-btn {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: -8px;
    opacity: 0.7;
    transition: opacity 0.2s ease;

    &:active {
      opacity: 0.5;
    }

    .clear-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba($color-text-secondary, 0.2);
      position: relative;

      &::before,
      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 16px;
        height: 2px;
        background: #fff;
      }

      &::before {
        transform: translate(-50%, -50%) rotate(45deg);
      }

      &::after {
        transform: translate(-50%, -50%) rotate(-45deg);
      }
    }
  }

  .search-btn {
    font-size: 28px;
    color: $color-text-secondary;
    padding: 0 8px;
    height: 72px;
    line-height: 72px;
    transition: all 0.25s ease;
    user-select: none;

    &.active {
      color: $color-brand;
      font-weight: 500;
    }

    &:active {
      opacity: 0.7;
    }

    &.disabled {
      opacity: 0.5;
      pointer-events: none;
    }
  }
}

// åŠ è½½åŠ¨ç”»
@keyframes search-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// æ·±è‰²æ¨¡å¼é€‚é…
@media (prefers-color-scheme: dark) {
  .search-bar {
    .search-input-wrap {
      background: rgba($color-bg-light, 0.08);
    }

    &.is-focused .search-input-wrap {
      background: rgba($color-bg-light, 0.12);
      box-shadow: inset 0 0 0 1px rgba($color-brand, 0.2);
    }

    .clear-btn .clear-icon {
      background: rgba($color-text-secondary, 0.3);
    }
  }
}

// å°å±é€‚é…
@media screen and (max-width: 375px) {
  .search-bar {
    padding: 10px 12px;
    gap: 8px;

    .search-input-wrap {
      height: 64px;
    }

    .search-icon {
      width: 36px;
      height: 36px;

      .icon-circle {
        left: 7px;
        top: 7px;
        width: 14px;
        height: 14px;
      }

      .icon-line {
        left: 20px;
        top: 20px;
        width: 8px;
      }
    }

    .search-input {
      font-size: 26px;
    }

    .clear-btn {
      width: 36px;
      height: 36px;

      .clear-icon {
        width: 28px;
        height: 28px;

        &::before,
        &::after {
          width: 14px;
        }
      }
    }

    .search-btn {
      font-size: 26px;
      height: 64px;
      line-height: 64px;
    }
  }
}
===== End of File: components\search-bar\index.scss =====


===== File: components\search-bar\index.tsx =====
// components/search-bar/index.tsx
import { useState, useCallback, useEffect, useMemo } from 'react'
import { View, Input } from '@tarojs/components'
import debounce from 'lodash/debounce'
import './index.scss'

interface SearchBarProps {
  value: string
  placeholder?: string
  className?: string
  loading?: boolean
  delay?: number  // é˜²æŠ–å»¶è¿Ÿæ—¶é—´
  maxLength?: number
  onChange: (value: string) => void
  onSearch?: (value: string) => void
  onFocus?: () => void
  onBlur?: () => void
  onClear?: () => void
}

export const SearchBar: React.FC<SearchBarProps> = ({
  value,
  placeholder = 'æœç´¢',
  className = '',
  loading = false,
  delay = 500,
  maxLength = 100,
  onChange,
  onSearch,
  onFocus,
  onBlur,
  onClear
}) => {
  // çŠ¶æ€ç®¡ç†
  const [isFocused, setIsFocused] = useState(false)
  const [innerValue, setInnerValue] = useState(value)

  // åŒæ­¥å¤–éƒ¨valueå˜åŒ–
  useEffect(() => {
    setInnerValue(value)
  }, [value])

  // é˜²æŠ–å¤„ç†
  const debouncedChange = useMemo(
    () => debounce((value: string) => {
      onChange(value)
    }, delay),
    [onChange, delay]
  )

  // æ¸…ç†é˜²æŠ–
  useEffect(() => {
    return () => {
      debouncedChange.cancel()
    }
  }, [debouncedChange])

  // è¾“å…¥å¤„ç†
  const handleInput = useCallback((e: any) => {
    const newValue = e.detail.value.trim()
    setInnerValue(newValue)
    debouncedChange(newValue)
  }, [debouncedChange])

  // æ¸…é™¤å¤„ç†
  const handleClear = useCallback(() => {
    setInnerValue('')
    onChange('')
    onClear?.()
  }, [onChange, onClear])

  // æœç´¢å¤„ç†
  const handleSearch = useCallback(() => {
    if (!innerValue) return
    onSearch?.(innerValue)
  }, [innerValue, onSearch])

  // èšç„¦å¤„ç†
  const handleFocus = useCallback(() => {
    setIsFocused(true)
    onFocus?.()
  }, [onFocus])

  // å¤±ç„¦å¤„ç†
  const handleBlur = useCallback(() => {
    setIsFocused(false)
    onBlur?.()
  }, [onBlur])

  return (
    <View className={`search-bar ${className} ${isFocused ? 'is-focused' : ''} ${loading ? 'is-loading' : ''}`}>
      <View className='search-input-wrap'>
        {/* æœç´¢å›¾æ ‡ */}
        <View className='search-icon'>
          {loading ? (
            <View className='loading-icon' />
          ) : (
            <>
              <View className='icon-circle' />
              <View className='icon-line' />
            </>
          )}
        </View>

        {/* è¾“å…¥æ¡† */}
        <Input
          className='search-input'
          type='text'
          value={innerValue}
          placeholder={placeholder}
          placeholderClass='placeholder'
          maxlength={maxLength}
          onInput={handleInput}
          onFocus={handleFocus}
          onBlur={handleBlur}
          confirmType='search'
          onConfirm={handleSearch}
          disabled={loading}
        />

        {/* æ¸…é™¤æŒ‰é’® */}
        {innerValue && !loading && (
          <View className='clear-btn' onClick={handleClear}>
            <View className='clear-icon' />
          </View>
        )}
      </View>

      {/* æœç´¢æŒ‰é’® */}
      <View 
        className={`search-btn ${innerValue ? 'active' : ''} ${loading ? 'disabled' : ''}`}
        onClick={handleSearch}
      >
        æœç´¢
      </View>
    </View>
  )
}
===== End of File: components\search-bar\index.tsx =====


===== File: components\service-card\index.scss =====
// components/service-card/index.scss
@import "../../styles/custom-theme.scss";

.service-card {
  background: $color-bg-base;
  border-radius: 16px;
  margin-bottom: 24px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);

  // åŠ è½½æ€æ ·å¼
  &.is-loading {
    .skeleton-content {
      padding: 24px;
      
      .skeleton-line {
        height: 24px;
        background: $color-bg-light;
        border-radius: 4px;
        margin-bottom: 16px;
        animation: skeleton-loading 1.5s ease-in-out infinite;

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }

  // å¡ç‰‡ä¸»ä½“
  .card-main {
    position: relative;
    padding: 24px;
    transition: background-color 0.2s ease;
    
    &:active {
      background: rgba($color-brand, 0.02);
    }
  }

  // å¤´éƒ¨åŒºåŸŸ
  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 16px;
  }

  .title-wrap {
    flex: 1;
    margin-right: 16px;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
  }

  .title {
    font-size: 32px;
    font-weight: bold;
    color: $color-text-base;
    line-height: 1.4;
  }

  .warranty {
    display: inline-flex;
    align-items: center;
    padding: 4px 12px;
    font-size: 24px;
    color: $color-brand;
    background: rgba($color-brand, 0.1);
    border-radius: 32px;
    line-height: 1.2;
  }

  .price-wrap {
    flex-shrink: 0;
    text-align: right;
  }

  .price {
    font-size: 36px;
    font-weight: bold;
    color: $color-brand;
    line-height: 1.2;
  }

  .unit {
    font-size: 24px;
    color: $color-text-secondary;
  }

  // ç‰¹ç‚¹æ ‡ç­¾
  .features {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 16px;
  }

  .feature-tag {
    padding: 8px 16px;
    font-size: 24px;
    color: $color-text-secondary;
    background: $color-bg-light;
    border-radius: 6px;
    line-height: 1.2;
  }

  // ç®€ä»‹
  .description {
    font-size: 28px;
    color: $color-text-secondary;
    line-height: 1.6;
    padding-right: 48px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  // å±•å¼€å›¾æ ‡
  .expand-icon {
    position: absolute;
    right: 24px;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: $color-bg-light;
    transition: all 0.3s ease;
    
    .icon-arrow {
      width: 12px;
      height: 12px;
      border-right: 2px solid $color-text-secondary;
      border-bottom: 2px solid $color-text-secondary;
      transform: rotate(45deg);
      transition: transform 0.3s ease;
      margin-top: -4px;
    }

    &.expanded .icon-arrow {
      transform: rotate(-135deg);
      margin-top: 4px;
    }
  }

  // å±•å¼€åŒºåŸŸ
  .card-expand {
    height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border-top: 1PX solid $color-border-light;

    &.expanded {
      height: auto;
      opacity: 1;
    }
  }

  // æœåŠ¡ä¿¡æ¯
  .info-box {
    display: flex;
    gap: 24px;
    padding: 24px;
  }

  .info-item {
    flex: 1;
    padding: 16px;
    background: $color-bg-light;
    border-radius: 12px;
    text-align: center;

    .label {
      display: block;
      font-size: 24px;
      color: $color-text-secondary;
      margin-bottom: 8px;
    }

    .value {
      display: block;
      font-size: 28px;
      color: $color-text-base;
      font-weight: 500;
    }
  }

  // æœåŠ¡æµç¨‹
  .process-box {
    padding: 24px;
    border-top: 1PX solid $color-border-light;
  }

  .process-title {
    font-size: 28px;
    font-weight: bold;
    color: $color-text-base;
    margin-bottom: 32px;
  }

  .process-steps {
    position: relative;
    display: flex;
    justify-content: space-between;
    
    &::before {
      content: '';
      position: absolute;
      top: 24px;
      left: 60px;
      right: 60px;
      height: 2px;
      background: $color-border-base;
      z-index: 0;
    }
  }

  .step-item {
    position: relative;
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    z-index: 1;
  }

  .step-number {
    width: 48px;
    height: 48px;
    background: $color-brand;
    color: #fff;
    font-size: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 16px;
    box-shadow: 0 4px 12px rgba($color-brand, 0.2);
  }

  .step-content {
    max-width: 200px;
    padding: 0 12px;
  }

  .step-title {
    display: block;
    font-size: 28px;
    color: $color-text-base;
    margin-bottom: 8px;
    font-weight: 500;
  }

  .step-desc {
    display: block;
    font-size: 26px;
    color: $color-text-secondary;
    line-height: 1.4;
  }

  // é¢„çº¦æŒ‰é’®
  .book-btn {
    margin: 0 24px 24px;
    height: 88px;
    line-height: 88px;
    text-align: center;
    font-size: 32px;
    color: #fff;
    background: $color-brand;
    border-radius: 44px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba($color-brand, 0.2);

    &:active {
      transform: translateY(2px);
      box-shadow: 0 2px 6px rgba($color-brand, 0.15);
    }
  }
}

// åŠ è½½åŠ¨ç”»
@keyframes skeleton-loading {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.3;
  }
  100% {
    opacity: 0.6;
  }
}

// å°å±é€‚é…
@media screen and (max-width: 375px) {
  .service-card {
    .card-main {
      padding: 20px;
    }

    .title {
      font-size: 30px;
    }

    .warranty {
      font-size: 22px;
      padding: 4px 10px;
    }

    .price {
      font-size: 34px;
    }

    .feature-tag {
      font-size: 22px;
      padding: 6px 12px;
    }

    .description {
      font-size: 26px;
    }

    .info-box,
    .process-box {
      padding: 20px;
    }

    .book-btn {
      margin: 0 20px 20px;
      height: 80px;
      line-height: 80px;
      font-size: 30px;
    }
  }
}
===== End of File: components\service-card\index.scss =====


===== File: components\service-card\index.tsx =====
// components/service-card/index.tsx
import { memo, useMemo, useCallback } from 'react'
import { View, Text } from '@tarojs/components'
import type { ServiceItem } from '../../types'
import './index.scss'

interface ServiceCardProps {
  service?: ServiceItem
  loading?: boolean
  expanded?: boolean
  className?: string
  onToggle?: (id: number) => void
  onBook?: (service: ServiceItem) => void
}

export const ServiceCard = memo(function ServiceCard({
  service,
  loading = false,
  expanded = false,
  className = '',
  onToggle,
  onBook
}: ServiceCardProps) {
  
  // åŠ è½½çŠ¶æ€
  if (loading) {
    return (
      <View className={`service-card is-loading ${className}`}>
        <View className='skeleton-content'>
          <View className='skeleton-line' style='width: 60%' />
          <View className='skeleton-line' style='width: 40%' />
          <View className='skeleton-line' style='width: 90%' />
        </View>
      </View>
    )
  }

  // ç¡®ä¿æœåŠ¡æ•°æ®å­˜åœ¨
  if (!service) return null

  // æ ¼å¼åŒ–ä»·æ ¼
  const formattedPrice = useMemo(() => {
    return typeof service.price === 'number' 
      ? service.price.toLocaleString('zh-CN')
      : service.price
  }, [service.price])

  // æ„å»ºåº”ç”¨åŒºåŸŸä¿¡æ¯
  const applicationArea = useMemo(() => {
    if (!service.minArea && !service.maxArea) return null
    if (service.minArea && service.maxArea) {
      return `${service.minArea}-${service.maxArea}ã¡`
    }
    if (service.minArea) return `â‰¥${service.minArea}ã¡`
    return `â‰¤${service.maxArea}ã¡`
  }, [service.minArea, service.maxArea])

  // å±•å¼€/æ”¶èµ·å¤„ç†
  const handleToggle = useCallback((e: any) => {
    e.stopPropagation()
    onToggle?.(service.id)
  }, [service.id, onToggle])

  // é¢„çº¦å¤„ç†
  const handleBook = useCallback((e: any) => {
    e.stopPropagation()
    onBook?.(service)
  }, [service, onBook])

  return (
    <View className={`service-card ${expanded ? 'is-expanded' : ''} ${className}`}>
      {/* å¡ç‰‡ä¸»ä½“ï¼Œç‚¹å‡»å±•å¼€/æ”¶èµ· */}
      <View className='card-main' onClick={handleToggle}>
        {/* å¤´éƒ¨ä¿¡æ¯ */}
        <View className='card-header'>
          <View className='title-wrap'>
            <Text className='title'>{service.title}</Text>
            {service.warranty && (
              <Text className='warranty'>{service.warranty}</Text>
            )}
          </View>
          <View className='price-wrap'>
            <Text className='price'>Â¥{formattedPrice}</Text>
            <Text className='unit'>/{service.unit}</Text>
          </View>
        </View>

        {/* ç‰¹ç‚¹æ ‡ç­¾ */}
        {service.features?.length > 0 && (
          <View className='features'>
            {service.features.map((feature, index) => (
              <Text 
                key={`${service.id}-feature-${index}`} 
                className='feature-tag'
              >
                {feature}
              </Text>
            ))}
          </View>
        )}

        {/* ç®€ä»‹ */}
        <Text className='description'>{service.description}</Text>

        {/* å±•å¼€/æ”¶èµ·å›¾æ ‡ */}
        <View className={`expand-icon ${expanded ? 'expanded' : ''}`}>
          <View className='icon-arrow' />
        </View>
      </View>

      {/* å±•å¼€å†…å®¹ */}
      <View className={`card-expand ${expanded ? 'expanded' : ''}`}>
        {/* æœåŠ¡ä¿¡æ¯ */}
        <View className='info-box'>
          {service.estimatedDuration && (
            <View className='info-item'>
              <Text className='label'>é¢„è®¡å·¥æœŸ</Text>
              <Text className='value'>{service.estimatedDuration}</Text>
            </View>
          )}
          {applicationArea && (
            <View className='info-item'>
              <Text className='label'>é€‚ç”¨é¢ç§¯</Text>
              <Text className='value'>{applicationArea}</Text>
            </View>
          )}
        </View>

        {/* æœåŠ¡æµç¨‹ */}
        {service.process?.length > 0 && (
          <View className='process-box'>
            <Text className='process-title'>æœåŠ¡æµç¨‹</Text>
            <View className='process-steps'>
              {service.process.map((step, index) => (
                <View 
                  key={`${service.id}-step-${index}`} 
                  className='step-item'
                >
                  <View className='step-number'>{index + 1}</View>
                  <View className='step-content'>
                    <Text className='step-title'>{step.title}</Text>
                    <Text className='step-desc'>{step.description}</Text>
                  </View>
                </View>
              ))}
            </View>
          </View>
        )}

        {/* é¢„çº¦æŒ‰é’® */}
        <View className='book-btn' onClick={handleBook}>
          ç«‹å³é¢„çº¦
        </View>
      </View>
    </View>
  )
})
===== End of File: components\service-card\index.tsx =====


===== File: config\index.ts =====
import type { Config } from '../types'

export const config: Config = {
    ui: {
      banner: {
        interval: 3000,
        duration: 500
      },
      cases: {
        interval: 4000,
        duration: 500,
        displayCount: 0,
        cardHeight: 0
      }
    },
    contact: {
      phone: '400-888-8888',
      wechat: 'waterproof888'
    }
}
===== End of File: config\index.ts =====


===== File: index.html =====
<!-- @ts-nocheck -->
<!DOCTYPE html>
<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="format-detection" content="telephone=no,address=no">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>waterproof-app</title>
  <script><%= htmlWebpackPlugin.options.script %></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>
===== End of File: index.html =====


===== File: pages\project\index.config.ts =====
// pages/project/index.config.ts
export default {
  navigationBarTitleText: 'é˜²æ°´æœåŠ¡',
  enablePullDownRefresh: true,
  backgroundColor: '#f5f5f5',
  backgroundTextStyle: 'dark',
  navigationBarBackgroundColor: '#ffffff',
  navigationBarTextStyle: 'black'
}
===== End of File: pages\project\index.config.ts =====


===== File: pages\project\index.scss =====
// pages/project/index.scss
@import "../../styles/custom-theme.scss";

.project {
  min-height: 100vh;
  background: $color-bg;
  padding-bottom: env(safe-area-inset-bottom);

  /* å¤´éƒ¨åŒºåŸŸ */
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: $color-bg-base;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  /* åˆ†ç±»æ ‡ç­¾ */
  .tabs {
    display: flex;
    align-items: center;
    padding: 0 16px;
    height: 88px;
    border-bottom: 1PX solid $color-border-light;
    background: $color-bg-base;
  }

  .tab-item {
    flex: 1;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    color: $color-text-secondary;
    position: relative;
    transition: all 0.3s ease;

    &.active {
      color: $color-brand;
      font-weight: 500;

      &::after {
        content: '';
        position: absolute;
        left: 50%;
        bottom: 0;
        width: 40px;
        height: 3px;
        background: $color-brand;
        border-radius: 2px;
        transform: translateX(-50%);
        transition: width 0.3s ease;
      }
    }

    &:active {
      opacity: 0.7;
    }
  }

  /* å†…å®¹åŒºåŸŸ */
  .content {
    margin-top: 180px;
    padding: 24px 16px;
    min-height: calc(100vh - 180px);
  }

  /* åŠ è½½çŠ¶æ€ */
  .loading-state {
    animation: fade-in 0.3s ease;
  }

  /* é”™è¯¯çŠ¶æ€ */
  .error-state {
    padding: 48px 24px;
    text-align: center;

    .error-text {
      font-size: 28px;
      color: $color-text-secondary;
      margin-bottom: 24px;
    }

    .retry-btn {
      display: inline-block;
      padding: 12px 32px;
      font-size: 28px;
      color: $color-brand;
      border: 1px solid $color-brand;
      border-radius: 32px;
      transition: all 0.3s ease;

      &:active {
        background: rgba($color-brand, 0.1);
      }
    }
  }

  /* ç©ºçŠ¶æ€ */
  .empty-state {
    padding: 120px 24px;
    text-align: center;

    .empty-text {
      font-size: 28px;
      color: $color-text-secondary;
      line-height: 1.5;
    }
  }

  /* æœåŠ¡åˆ—è¡¨ */
  .service-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-bottom: 48px;
    animation: fade-in 0.3s ease;
  }

  /* FAQ éƒ¨åˆ† */
  .faq-section {
    margin-top: 48px;
    padding: 0 8px;
    animation: slide-up 0.3s ease;
  }

  /* å›åˆ°é¡¶éƒ¨æŒ‰é’® */
  .back-to-top {
    position: fixed;
    right: 24px;
    bottom: calc(24px + env(safe-area-inset-bottom));
    width: 80px;
    height: 80px;
    background: $color-bg-base;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateY(100px);

    &.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .icon-arrow {
      width: 24px;
      height: 24px;
      border-left: 3px solid $color-text-secondary;
      border-top: 3px solid $color-text-secondary;
      transform: rotate(45deg);
      margin-top: 8px;
    }

    &:active {
      transform: translateY(2px);
    }
  }
}

/* åŠ¨ç”» */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* æ·±è‰²æ¨¡å¼é€‚é… */
@media (prefers-color-scheme: dark) {
  .project {
    .header {
      background: rgba($color-bg-base, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: none;
    }

    .tabs {
      border-bottom-color: rgba($color-border-light, 0.1);
    }

    .back-to-top {
      background: rgba($color-bg-base, 0.8);
      backdrop-filter: blur(10px);
    }
  }
}

/* å°å±é€‚é… */
@media screen and (max-width: 375px) {
  .project {
    .tabs {
      height: 80px;
      padding: 0 12px;
    }

    .tab-item {
      font-size: 26px;

      &.active::after {
        width: 36px;
      }
    }

    .content {
      margin-top: 165px;
      padding: 20px 12px;
    }

    .service-list {
      gap: 12px;
      margin-bottom: 40px;
    }

    .error-state,
    .empty-state {
      padding: 40px 20px;
    }

    .error-state {
      .error-text {
        font-size: 26px;
      }

      .retry-btn {
        font-size: 26px;
        padding: 10px 28px;
      }
    }

    .empty-state .empty-text {
      font-size: 26px;
    }

    .faq-section {
      margin-top: 40px;
      padding: 0 4px;
    }

    .back-to-top {
      right: 20px;
      bottom: calc(20px + env(safe-area-inset-bottom));
      width: 72px;
      height: 72px;

      .icon-arrow {
        width: 20px;
        height: 20px;
      }
    }
  }
}

/* å¤§å±é€‚é… */
@media screen and (min-width: 768px) {
  .project {
    .content {
      padding: 24px;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }

    .service-list {
      gap: 24px;
    }

    .faq-section {
      padding: 0;
    }
  }
}
===== End of File: pages\project\index.scss =====


===== File: pages\project\index.tsx =====
// pages/project/index.tsx
import {Text, View } from '@tarojs/components'
import Taro, { useDidShow, useLoad, usePullDownRefresh } from '@tarojs/taro'
import { SearchBar } from '../../components/search-bar'
import { ServiceCard } from '../../components/service-card'
import { FAQSection } from '../../components/faq-section'
import { projectApi } from '../../services/project-api'
import { handleError } from '../../utils/error'
import type { ServiceItem, FAQ, ServiceType } from '../../types'
import { useState, useCallback, useRef, useEffect } from 'react'
import './index.scss'

const TAB_LIST = [
  { title: 'å…¨éƒ¨', value: 'all' },
  { title: 'å®¶åº­é˜²æ°´', value: 'home' },
  { title: 'å®¤å¤–é˜²æ°´', value: 'outdoor' },
  { title: 'å·¥ä¸šé˜²æ°´', value: 'industrial' }
] as const

interface State {
  loading: boolean
  services: ServiceItem[]
  faqs: FAQ[]
  searchValue: string
  currentTab: number
  expandedService: number | null
  error: string | null
  initialized: boolean
}

const initialState: State = {
  loading: false,
  services: [],
  faqs: [],
  searchValue: '',
  currentTab: 0,
  expandedService: null,
  error: null,
  initialized: false
}

export default function ProjectPage() {
  const [state, setState] = useState<State>(initialState)
  const mounted = useRef(false)
  const searchTimer = useRef<NodeJS.Timeout>()
  const requestCount = useRef(0)

  // çŠ¶æ€æ›´æ–°å‡½æ•°
  const updateState = useCallback((updates: Partial<State>) => {
    setState(prev => ({ ...prev, ...updates }))
  }, [])

  // åŠ è½½æœåŠ¡æ•°æ®
  const loadServices = useCallback(async (showLoading = true) => {
    const currentRequest = ++requestCount.current
    
    try {
      if (showLoading) {
        updateState({ loading: true, error: null })
      }

      const type = TAB_LIST[state.currentTab].value as ServiceType
      const response = await projectApi.searchServices(
        state.searchValue,
        type
      )

      // ç¡®ä¿æ˜¯æœ€æ–°è¯·æ±‚
      if (currentRequest === requestCount.current && mounted.current) {
        updateState({ services: response.data })
      }
    } catch (err) {
      console.error('åŠ è½½æœåŠ¡å¤±è´¥:', err)
      if (currentRequest === requestCount.current && mounted.current) {
        const errorMsg = handleError(err)
        updateState({ error: errorMsg })
        Taro.showToast({ title: errorMsg, icon: 'none' })
      }
    } finally {
      if (currentRequest === requestCount.current && mounted.current) {
        updateState({ loading: false })
      }
    }
  }, [state.currentTab, state.searchValue])

  // åŠ è½½FAQæ•°æ®
  const loadFaqs = useCallback(async () => {
    try {
      const response = await projectApi.getFaqs()
      if (mounted.current) {
        updateState({ faqs: response.data })
      }
    } catch (err) {
      console.error('åŠ è½½FAQå¤±è´¥:', err)
    }
  }, [])

  // åˆå§‹åŒ–åŠ è½½
  const initializeData = useCallback(async () => {
    if (!state.initialized) {
      await Promise.all([loadServices(), loadFaqs()])
      updateState({ initialized: true })
    }
  }, [state.initialized, loadServices, loadFaqs])

  // æœç´¢å¤„ç†
  const handleSearch = useCallback((value: string) => {
    updateState({ searchValue: value })

    if (searchTimer.current) {
      clearTimeout(searchTimer.current)
    }

    searchTimer.current = setTimeout(() => {
      loadServices()
    }, 500)
  }, [loadServices])

  // Tabåˆ‡æ¢å¤„ç†
  const handleTabChange = useCallback((index: number) => {
    if (state.currentTab !== index) {
      updateState({
        currentTab: index,
        expandedService: null // åªé‡ç½®å±•å¼€çŠ¶æ€
      })
      loadServices()
    }
  }, [state.currentTab, loadServices])

  // æœåŠ¡å±•å¼€å¤„ç†
  const handleServiceToggle = useCallback((id: number) => {
    updateState({
      expandedService: state.expandedService === id ? null : id
    })
  }, [state.expandedService])

  // é¢„çº¦å¤„ç†
  const handleBooking = useCallback((service: ServiceItem) => {
    Taro.switchTab({
      url: '/pages/contact/index',
      success: () => {
        Taro.setStorage({
          key: 'selected_service',
          data: {
            id: service.id,
            title: service.title,
            price: service.price,
            unit: service.unit
          }
        })
      }
    })
  }, [])

  // ç”Ÿå‘½å‘¨æœŸ
  useLoad(() => {
    mounted.current = true
    initializeData()
  })

  useDidShow(() => {
    if (state.initialized && !state.loading) {
      loadServices(false)
    }
  })

  // ä¸‹æ‹‰åˆ·æ–°
  usePullDownRefresh(() => {
    Promise.all([loadServices(false), loadFaqs()]).finally(() => {
      Taro.stopPullDownRefresh()
    })
  })

  // æ¸…ç†å‰¯ä½œç”¨
  useEffect(() => {
    return () => {
      mounted.current = false
      if (searchTimer.current) {
        clearTimeout(searchTimer.current)
      }
    }
  }, [])

  return (
    <View className='project'>
      <View className='header'>
        <SearchBar
          value={state.searchValue}
          onChange={handleSearch}
          onSearch={handleSearch}
          loading={state.loading}
          placeholder='æœç´¢æœåŠ¡é¡¹ç›®'
        />

        <View className='tabs'>
          {TAB_LIST.map((tab, index) => (
            <View
              key={tab.value}
              className={`tab-item ${state.currentTab === index ? 'active' : ''}`}
              onClick={() => handleTabChange(index)}
            >
              {tab.title}
            </View>
          ))}
        </View>
      </View>

      <View className='content'>
        {/* åŠ è½½çŠ¶æ€ */}
        {state.loading && (
        <View className='loading-state'>
          {Array(3).fill(null).map((_, index) => (
            <ServiceCard 
              key={`skeleton-${index}`}
              loading 
              className='skeleton-card'
            />
          ))}
        </View>
      )}

        {/* é”™è¯¯çŠ¶æ€ */}
        {!state.loading && !state.error && state.services.length > 0 && (
      <View className='service-list'>
        {state.services.map(service => (
          <ServiceCard
            key={service.id}
            service={service}
            expanded={state.expandedService === service.id}
            onToggle={handleServiceToggle}
            onBook={handleBooking}
          />
        ))}
      </View>
    )}

        {/* ç©ºçŠ¶æ€ */}
        {!state.loading && !state.error && state.services.length === 0 && (
          <View className='empty-state'>
            <Text className='empty-text'>
              {state.searchValue ? 'æœªæ‰¾åˆ°ç›¸å…³æœåŠ¡' : 'æš‚æ— æœåŠ¡å†…å®¹'}
            </Text>
          </View>
        )}

        {/* æœåŠ¡åˆ—è¡¨ */}
        {!state.loading && !state.error && state.services.length > 0 && (
          <>
            <View className='service-list'>
              {state.services.map(service => (
                <ServiceCard
                  key={service.id}
                  service={service}
                  expanded={state.expandedService === service.id}
                  onToggle={handleServiceToggle}
                  onBook={handleBooking}
                />
              ))}
            </View>

            {/* FAQéƒ¨åˆ† */}
            {state.faqs.length > 0 && (
              <FAQSection 
                faqs={state.faqs}
                title='å¸¸è§é—®é¢˜'
                className='faq-section'
              />
            )}
          </>
        )}
      </View>
    </View>
  )
}
===== End of File: pages\project\index.tsx =====


===== File: services\project-api.ts =====
// services/project-api.ts
import type { ServiceType, ServiceItem, FAQ, ApiResponse, SearchOptions } from '../types'
import { AppError } from '../utils/error'
import { mockServices, mockFaqs } from './project-mock-data'

/**
 * æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚
 */
const mockRequest = async <T>(data: T): Promise<ApiResponse<T>> => {
  await new Promise(resolve => setTimeout(resolve, 500))
  return {
    code: 0,
    message: 'success',
    data
  }
}

/**
 * æœç´¢ç›¸å…³åº¦è¯„åˆ†
 */
const calculateRelevanceScore = (service: ServiceItem, keyword: string): number => {
  let score = 0
  const lowerKeyword = keyword.toLowerCase()

  // æ ‡é¢˜åŒ¹é…æƒé‡æœ€é«˜
  if (service.title.toLowerCase().includes(lowerKeyword)) {
    score += 10
  }
  
  // æè¿°åŒ¹é…æ¬¡ä¹‹
  if (service.description.toLowerCase().includes(lowerKeyword)) {
    score += 5
  }
  
  // ç‰¹æ€§åŒ¹é…
  service.features?.forEach(feature => {
    if (feature.toLowerCase().includes(lowerKeyword)) {
      score += 3
    }
  })

  // å·¥æœŸå’Œé¢ç§¯ä¿¡æ¯åŒ¹é…
  if (service.estimatedDuration?.toLowerCase().includes(lowerKeyword)) {
    score += 2
  }

  return score
}

export const projectApi = {
  /**
   * è·å–æœåŠ¡åˆ—è¡¨
   */
  async getServicesByType(type: ServiceType): Promise<ApiResponse<ServiceItem[]>> {
    try {
      const filtered = type === 'all' 
        ? mockServices 
        : mockServices.filter(service => service.type === type)

      return mockRequest(filtered)
    } catch (error) {
      throw new AppError(500, 'è·å–æœåŠ¡åˆ—è¡¨å¤±è´¥')
    }
  },

  /**
   * æœç´¢æœåŠ¡
   */
  async searchServices(
    keyword: string,
    type: ServiceType = 'all',
    options: SearchOptions = {}
  ): Promise<ApiResponse<ServiceItem[]>> {
    try {
      // é¢„å¤„ç†å…³é”®è¯
      const processedKeyword = keyword.trim().toLowerCase()
      
      // ç©ºå…³é”®è¯æ—¶è¿”å›åˆ†ç±»åˆ—è¡¨
      if (!processedKeyword) {
        return this.getServicesByType(type)
      }

      // å…ˆæŒ‰ç±»å‹è¿‡æ»¤
      let filtered = type === 'all' 
        ? mockServices 
        : mockServices.filter(service => service.type === type)

      // æœç´¢è¿‡æ»¤
      filtered = filtered.filter(service => {
        const searchFields = [
          service.title,
          service.description,
          ...(service.features || []),
          service.warranty || '',
          service.estimatedDuration || '',
        ].map(field => field.toLowerCase())

        return searchFields.some(field => field.includes(processedKeyword))
      })

      // è®¡ç®—ç›¸å…³åº¦å¾—åˆ†å¹¶æ’åº
      if (options.sortBy === 'relevance') {
        filtered.sort((a, b) => {
          const scoreA = calculateRelevanceScore(a, processedKeyword)
          const scoreB = calculateRelevanceScore(b, processedKeyword)
          return scoreB - scoreA
        })
      }

      // ä»·æ ¼ç­›é€‰
      if (options.minPrice !== undefined || options.maxPrice !== undefined) {
        filtered = filtered.filter(service => {
          const price = service.price
          return (options.minPrice === undefined || price >= options.minPrice) &&
                 (options.maxPrice === undefined || price <= options.maxPrice)
        })
      }

      // æŒ‰ä»·æ ¼æ’åº
      if (options.sortBy === 'price') {
        filtered.sort((a, b) => 
          options.sortOrder === 'desc' ? b.price - a.price : a.price - b.price
        )
      }

      return mockRequest(filtered)
    } catch (error) {
      throw new AppError(500, 'æœç´¢æœåŠ¡å¤±è´¥')
    }
  },

  /**
   * è·å–æœåŠ¡è¯¦æƒ…
   */
  async getServiceDetail(id: number): Promise<ApiResponse<ServiceItem>> {
    try {
      const service = mockServices.find(s => s.id === id)
      if (!service) {
        throw new AppError(404, 'æœåŠ¡ä¸å­˜åœ¨')
      }
      return mockRequest(service)
    } catch (error) {
      if (error instanceof AppError) {
        throw error
      }
      throw new AppError(500, 'è·å–æœåŠ¡è¯¦æƒ…å¤±è´¥')
    }
  },

  /**
   * è·å–FAQåˆ—è¡¨
   */
  async getFaqs(): Promise<ApiResponse<FAQ[]>> {
    try {
      return mockRequest(mockFaqs)
    } catch (error) {
      throw new AppError(500, 'è·å–FAQåˆ—è¡¨å¤±è´¥')
    }
  }
}
===== End of File: services\project-api.ts =====


===== File: services\project-mock-data.ts =====
// services/project-mock-data.ts
import type { ServiceItem, FAQ } from '../types'

export const mockServices: ServiceItem[] = [
  {
    id: 1,
    title: 'å«ç”Ÿé—´é˜²æ°´',
    price: 100,
    unit: 'å¹³ç±³èµ·',
    type: 'home',
    description: 'ä¸“ä¸šå«ç”Ÿé—´é˜²æ°´æ–½å·¥ï¼Œè§£å†³æ¸—æ¼é—®é¢˜',
    features: ['è€å€™è€ç£¨', 'æŒä¹…é˜²æŠ¤', 'æ— ç¼æ–½å·¥'],
    process: [
      { step: 1, title: 'é—®é¢˜è¯Šæ–­', description: 'ä¸“ä¸šæ£€æµ‹æ¼æ°´åŸå› ' },
      { step: 2, title: 'åˆ¶å®šæ–¹æ¡ˆ', description: 'æ ¹æ®å…·ä½“æƒ…å†µå®šåˆ¶è§£å†³æ–¹æ¡ˆ' },
      { step: 3, title: 'è§„èŒƒæ–½å·¥', description: 'æŒ‰æ ‡å‡†æµç¨‹è¿›è¡Œæ–½å·¥' },
      { step: 4, title: 'æˆæ•ˆæ£€éªŒ', description: 'ä¸¥æ ¼éªŒæ”¶ç¡®ä¿æ•ˆæœ' }
    ],
    estimatedDuration: '1-2å¤©',
    minArea: 1,
    maxArea: 20,
    warranty: 'åå¹´è´¨ä¿'
  },
  {
    id: 2,
    title: 'å¤–å¢™é˜²æ°´',
    price: 150,
    unit: 'å¹³ç±³èµ·',
    type: 'outdoor',
    description: 'å…¨æ–¹ä½å¤–å¢™é˜²æ°´ï¼Œæ ¹æ²»æ¸—æ¼éš¾é¢˜',
    features: ['é«˜ç©ºä½œä¸š', 'å…¨é¢é˜²æŠ¤', 'é˜²ç´«å¤–çº¿'],
    process: [
      { step: 1, title: 'ç°åœºå‹˜å¯Ÿ', description: 'ä¸“ä¸šè¯„ä¼°æ¸—æ¼èŒƒå›´' },
      { step: 2, title: 'æ–¹æ¡ˆè®¾è®¡', description: 'å®šåˆ¶ä¸“ä¸šè§£å†³æ–¹æ¡ˆ' },
      { step: 3, title: 'ç²¾ç»†æ–½å·¥', description: 'æ ‡å‡†åŒ–æ–½å·¥æµç¨‹' },
      { step: 4, title: 'è´¨é‡éªŒæ”¶', description: 'å¤šé‡æ£€éªŒæ ‡å‡†' }
    ],
    estimatedDuration: '3-5å¤©',
    minArea: 50,
    maxArea: 1000,
    warranty: 'äº”å¹´è´¨ä¿'
  },
  {
    id: 3,
    title: 'åœ°ä¸‹å®¤é˜²æ°´',
    price: 200,
    unit: 'å¹³ç±³èµ·',
    type: 'industrial',
    description: 'ä¸“ä¸šåœ°ä¸‹å®¤é˜²æ°´å·¥ç¨‹ï¼Œå½»åº•è§£å†³æ¸—æ°´é—®é¢˜',
    features: ['é˜²ç§¯æ°´', 'è€è…èš€', 'æŠ—å‹é˜²æ¸—'],
    process: [
      { step: 1, title: 'æ¸—æ¼æ£€æµ‹', description: 'å…¨é¢æ’æŸ¥éšæ‚£' },
      { step: 2, title: 'å·¥ç¨‹è®¾è®¡', description: 'ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ' },
      { step: 3, title: 'ä¸“ä¸šæ–½å·¥', description: 'å·¥è‰ºæµç¨‹æ ‡å‡†åŒ–' },
      { step: 4, title: 'ç«£å·¥éªŒæ”¶', description: 'ç¡®ä¿æ–½å·¥è´¨é‡' }
    ],
    estimatedDuration: '5-7å¤©',
    minArea: 100,
    maxArea: 2000,
    warranty: 'å…«å¹´è´¨ä¿'
  }
]

export const mockFaqs: FAQ[] = [
  {
    id: 1,
    question: 'é˜²æ°´å·¥ç¨‹éœ€è¦å¤šä¹…æ‰èƒ½å®Œå·¥ï¼Ÿ',
    answer: 'å·¥æœŸå–å†³äºé¢ç§¯å’Œæ–½å·¥éš¾åº¦ï¼Œä¸€èˆ¬å°é¢ç§¯(20ã¡å†…)1-2å¤©ï¼Œå¤§é¢ç§¯3-7å¤©ã€‚',
    category: 'æ–½å·¥å‘¨æœŸ'
  },
  {
    id: 2,
    question: 'é˜²æ°´ææ–™æœ‰å“ªäº›å“ç‰Œå¯ä»¥é€‰æ‹©ï¼Ÿ',
    answer: 'æˆ‘ä»¬ä½¿ç”¨å›½é™…çŸ¥åå“ç‰Œé˜²æ°´ææ–™ï¼ŒåŒ…æ‹¬ä¸œæ–¹é›¨è™¹ã€ç§‘é¡ºç­‰ï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚',
    category: 'ææ–™é€‰æ‹©'
  },
  {
    id: 3,
    question: 'æ–½å·¥åå¤šä¹…å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Ÿ',
    answer: 'ä¸€èˆ¬å»ºè®®24-48å°æ—¶åå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå…·ä½“æ—¶é—´è§†ææ–™å’Œå¤©æ°”æƒ…å†µè€Œå®šã€‚',
    category: 'ä½¿ç”¨è¯´æ˜'
  },
  {
    id: 4,
    question: 'é˜²æ°´å·¥ç¨‹çš„è´¨ä¿æœŸæ˜¯å¤šä¹…ï¼Ÿ',
    answer: 'æ ¹æ®ä¸åŒé¡¹ç›®æä¾›5-10å¹´ä¸ç­‰çš„è´¨ä¿æœåŠ¡ï¼Œå…·ä½“ä»¥åˆåŒçº¦å®šä¸ºå‡†ã€‚',
    category: 'å”®åä¿éšœ'
  }
]
===== End of File: services\project-mock-data.ts =====


===== File: styles\custom-theme.scss =====
/* custom-theme.scss */

/* The Color of O2Team Brand */
$color-brand: #2563eb;                      // å“ç‰Œä¸»è‰²
$color-brand-light: #60a5fa;                // å“ç‰Œè‰²-æµ…è‰²
$color-brand-dark: #1d4ed8;                 // å“ç‰Œè‰²-æ·±è‰²
$color-brand-disabled: #bfdbfe;             // å“ç‰Œè‰²-ç¦ç”¨

/* Color */
$color-success: #22c55e;                    // æˆåŠŸè‰²
$color-error: #ef4444;                      // é”™è¯¯è‰²
$color-warning: #f59e0b;                    // è­¦å‘Šè‰²
$color-info: #78A4FA;

/* Color Palette */
$color-black-0: #000;
$color-black-1: #333;
$color-black-2: #7F7F7F;
$color-black-3: #B2B2B2;

$color-grey-0: #333;
$color-grey-1: #666;
$color-grey-2: #999;
$color-grey-3: #CCC;
$color-grey-4: #E5E5E5;
$color-grey-5: #F0F0F0;
$color-grey-6: #F7F7F7;

$color-white: #FFF;

/* Text Color */
$color-text-base: #1e293b;                  // åŸºç¡€æ–‡å­—è‰²
$color-text-base-inverse: #ffffff;          // åè‰²æ–‡å­—è‰²
$color-text-secondary: #475569;             // æ¬¡è¦æ–‡å­—è‰²
$color-text-placeholder: #94a3b8;           // å ä½æ–‡å­—è‰²
$color-text-disabled: #cbd5e1;              // ç¦ç”¨æ–‡å­—è‰²
$color-text-title: #2C405A;
$color-text-paragraph: #3F536E;

/* Link */
$color-link: #6190E8;
$color-link-hover: #79A1EB;
$color-link-active: #4F7DE2;
$color-link-disabled: #BFBFBF;

/* èƒŒæ™¯è‰² */
$color-bg: #f8fafc;                         // èƒŒæ™¯è‰²
$color-bg-base: #ffffff;                    // ç»„ä»¶èƒŒæ™¯è‰²
$color-bg-light: #f1f5f9;                   // æµ…èƒŒæ™¯è‰²
$color-bg-dark: #e2e8f0;                    // æ·±èƒŒæ™¯è‰²
$color-bg-grey: #F7F7F7;

/* è¾¹æ¡†é¢œè‰² */
$color-border-base: #e2e8f0;                // åŸºç¡€è¾¹æ¡†è‰²
$color-border-split: #edf2f7;               // åˆ†å‰²çº¿ (åŸtint 20%)
$color-border-light: #f1f5f9;               // æµ…è¾¹æ¡†è‰²
$color-border-dark: #cbd5e1;                // æ·±è¾¹æ¡†è‰²
$color-border-lighter: #f7fafc;             // æ›´æµ…è¾¹æ¡†è‰² (åŸtint 50%)
$color-border-lightest: #fcfdfe;            // æœ€æµ…è¾¹æ¡†è‰² (åŸtint 80%)
$color-border-grey: #CCC;

/* å›¾æ ‡é¢œè‰² */
$color-icon-base: #CCC;

/* åŠŸèƒ½è‰²ç›¸å…³ */
// æˆåŠŸè‰²
$color-success-light: #86efac;              // æˆåŠŸè‰²-æµ…è‰²
$color-success-dark: #16a34a;               // æˆåŠŸè‰²-æ·±è‰²
$color-success-disabled: #bbf7d0;           // æˆåŠŸè‰²-ç¦ç”¨

// è­¦å‘Šè‰²
$color-warning-light: #fcd34d;              // è­¦å‘Šè‰²-æµ…è‰²
$color-warning-dark: #d97706;               // è­¦å‘Šè‰²-æ·±è‰²
$color-warning-disabled: #fde68a;           // è­¦å‘Šè‰²-ç¦ç”¨

// é”™è¯¯è‰²
$color-error-light: #fca5a5;                // é”™è¯¯è‰²-æµ…è‰²
$color-error-dark: #dc2626;                 // é”™è¯¯è‰²-æ·±è‰²
$color-error-disabled: #fecaca;             // é”™è¯¯è‰²-ç¦ç”¨

/**
 * å¼•å…¥Taro UIé»˜è®¤æ ·å¼
 */
@import "~taro-ui/dist/style/index.scss";
===== End of File: styles\custom-theme.scss =====


===== File: types\index.ts =====
// types/index.ts

// API åŸºç¡€ç±»å‹
export interface ApiResponse<T> {
  code: number
  message: string
  data: T
}

// åˆ†é¡µç›¸å…³
export interface PaginationParams {
  page: number
  pageSize: number
}

export interface PaginatedResponse<T> extends ApiResponse<T> {
  pagination: {
    total: number
    totalPages: number
    currentPage: number
    pageSize: number
  }
}

// æœåŠ¡ç±»å‹
export type ServiceType = 'all' | 'home' | 'outdoor' | 'industrial'

export interface ProcessStep {
  step: number
  title: string
  description: string
  status?: 'pending' | 'processing' | 'completed' | 'error'
}

export interface ServiceItem {
  id: number
  title: string
  price: number
  unit: string
  type: ServiceType
  description: string
  features: string[]
  process: ProcessStep[]
  estimatedDuration?: string
  minArea?: number
  maxArea?: number
  warranty?: string
  imageUrl?: string
  updatedAt?: string
  createdAt?: string
}

// æœç´¢ç›¸å…³
export interface SearchOptions {
  sortBy?: 'relevance' | 'price' | 'createdAt'
  sortOrder?: 'asc' | 'desc'
  minPrice?: number
  maxPrice?: number
  minArea?: number
  maxArea?: number
}

// FAQ ç›¸å…³
export interface FAQ {
  id: number
  question: string
  answer: string
  category: string
  order?: number
  isHot?: boolean
}

// ç»„ä»¶ Props ç±»å‹
export interface SearchBarProps {
  value: string
  placeholder?: string
  className?: string
  loading?: boolean
  delay?: number
  maxLength?: number
  showAction?: boolean
  actionText?: string
  onChange: (value: string) => void
  onSearch?: (value: string) => void
  onFocus?: () => void
  onBlur?: () => void
  onClear?: () => void
}

export interface ServiceCardProps {
  service: ServiceItem
  expanded?: boolean
  loading?: boolean
  className?: string
  showAction?: boolean
  onToggle?: (id: number) => void
  onBook?: (service: ServiceItem) => void
}

export interface FAQSectionProps {
  faqs: FAQ[]
  title?: string
  className?: string
  emptyText?: string
  onFAQClick?: (faq: FAQ) => void
}

// çŠ¶æ€ç®¡ç†ç±»å‹
export interface ProjectPageState {
  loading: boolean
  services: ServiceItem[]
  faqs: FAQ[]
  searchValue: string
  currentTab: number
  expandedService: number | null
  error: string | null
  initialized: boolean
  searchHistory: string[]
  filter: SearchOptions
}

// é€šç”¨ç»„ä»¶ç±»å‹
export interface LoadingProps {
  size?: 'small' | 'normal' | 'large'
  color?: string
  className?: string
  text?: string
}

export interface EmptyProps {
  text?: string
  image?: string
  className?: string
  children?: React.ReactNode
}

export interface ErrorProps {
  text?: string
  code?: number
  className?: string
  onRetry?: () => void
}

// é”™è¯¯ç›¸å…³
export interface AppErrorType extends Error {
  code: number
  details?: any
}

// Tab ç›¸å…³
export interface TabItem {
  title: string
  value: ServiceType
  badge?: number | string
}

export interface TabsProps {
  items: TabItem[]
  value: string | number
  className?: string
  onChange: (value: string | number) => void
}

// è¿‡æ»¤å™¨ç›¸å…³
export interface FilterOption {
  label: string
  value: string | number
  disabled?: boolean
}

export interface FilterGroupProps {
  title: string
  options: FilterOption[]
  value: string | number | (string | number)[]
  multiple?: boolean
  className?: string
  onChange: (value: string | number | (string | number)[]) => void
}

// ä¸šåŠ¡ç±»å‹
export interface ServiceBooking {
  id: number
  serviceId: number
  userId: string
  status: 'pending' | 'confirmed' | 'cancelled' | 'completed'
  area?: number
  address?: string
  contactName: string
  contactPhone: string
  appointmentTime?: string
  remark?: string
  createdAt: string
}

export interface ServiceComment {
  id: number
  serviceId: number
  userId: string
  rating: number
  content: string
  images?: string[]
  reply?: string
  createdAt: string
}

// é…ç½®ç±»å‹
export interface ProjectConfig {
  searchDebounceDelay: number
  maxSearchHistory: number
  defaultPageSize: number
  imageBaseUrl: string
  priceUnit: string
  areaUnit: string
}
===== End of File: types\index.ts =====


===== File: utils\error.ts =====
// utils/error.ts

// è‡ªå®šä¹‰åº”ç”¨é”™è¯¯ç±»
export class AppError extends Error {
  constructor(
    public code: number,
    message: string
  ) {
    super(message)
    this.name = 'AppError'
  }
}

// ç±»å‹ä¿æŠ¤ï¼šåˆ¤æ–­æ˜¯å¦ä¸º AppError
export function isAppError(error: unknown): error is AppError {
  return error instanceof AppError
}

// é€šç”¨é”™è¯¯å¤„ç†å‡½æ•°
export function handleError(error: unknown): string {
  // å¦‚æœæ˜¯åº”ç”¨è‡ªå®šä¹‰é”™è¯¯
  if (isAppError(error)) {
    return error.message
  }

  // å¦‚æœæ˜¯æ ‡å‡† Error å¯¹è±¡
  if (error instanceof Error) {
    return error.message
  }

  // å…¶ä»–æœªçŸ¥é”™è¯¯ç±»å‹
  return 'æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
}

// ä¸šåŠ¡é”™è¯¯ç æ˜ å°„
export const ErrorCodeMap: Record<number, string> = {
  400: 'è¯·æ±‚å‚æ•°é”™è¯¯',
  401: 'æœªç™»å½•æˆ–ç™»å½•å·²è¿‡æœŸ',
  403: 'æ²¡æœ‰æ“ä½œæƒé™',
  404: 'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨',
  500: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯',
  502: 'ç½‘å…³é”™è¯¯',
  503: 'æœåŠ¡ä¸å¯ç”¨',
  504: 'ç½‘å…³è¶…æ—¶'
}

// HTTP é”™è¯¯å¤„ç†
export function handleHttpError(code: number): string {
  return ErrorCodeMap[code] || 'ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
}

// è¡¨å•é”™è¯¯å¤„ç†
export function handleFormError(error: unknown): { 
  [key: string]: string 
} {
  if (isAppError(error)) {
    try {
      // å°è¯•è§£æé”™è¯¯ä¿¡æ¯æ˜¯å¦ä¸º JSON æ ¼å¼çš„å­—æ®µé”™è¯¯
      const fieldsError = JSON.parse(error.message)
      if (typeof fieldsError === 'object') {
        return fieldsError
      }
    } catch {
      // è§£æå¤±è´¥åˆ™è¿”å›é€šç”¨é”™è¯¯
      return { _error: error.message }
    }
  }
  return { _error: handleError(error) }
}

// ç½‘ç»œé”™è¯¯åˆ¤æ–­
export function isNetworkError(error: unknown): boolean {
  if (error instanceof Error) {
    return error.message.toLowerCase().includes('network') || 
           error.message.toLowerCase().includes('timeout') ||
           error.message.toLowerCase().includes('connection')
  }
  return false
}

// è¶…æ—¶é”™è¯¯åˆ¤æ–­
export function isTimeoutError(error: unknown): boolean {
  if (error instanceof Error) {
    return error.message.toLowerCase().includes('timeout')
  }
  return false
}

// åˆ›å»ºä¸šåŠ¡é”™è¯¯
export function createBusinessError(code: number, message: string): AppError {
  return new AppError(code, message)
}

// åŒ…è£…å¼‚æ­¥é”™è¯¯å¤„ç†
export async function wrapAsyncError<T>(
  promise: Promise<T>,
  errorMessage?: string
): Promise<T> {
  try {
    return await promise
  } catch (error) {
    throw new AppError(
      isAppError(error) ? error.code : 500,
      errorMessage || handleError(error)
    )
  }
}

// é”™è¯¯æç¤ºæ ¼å¼åŒ–
export function formatErrorMessage(error: unknown): string {
  if (isAppError(error)) {
    const code = error.code
    const message = error.message
    return `${message}${code ? ` (${code})` : ''}`
  }
  return handleError(error)
}
===== End of File: utils\error.ts =====

