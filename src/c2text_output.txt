ğŸ“ src
  ğŸ“„ app.config.ts
  ğŸ“„ app.scss
  ğŸ“„ app.ts
  ğŸ“ config
    ğŸ“„ index.ts
  ğŸ“„ index.html
  ğŸ“ pages
    ğŸ“ index
      ğŸ“„ index.config.ts
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“ services
    ğŸ“„ index-api.ts
    ğŸ“„ index-mock-data.ts
  ğŸ“ styles
    ğŸ“„ custom-theme.scss
  ğŸ“ types
    ğŸ“„ index.ts
  ğŸ“ utils
    ğŸ“„ error.ts

===== File: app.config.ts =====
// app.config.ts
export default defineAppConfig({
  pages: [
    'pages/index/index',
    'pages/project/index',
    'pages/cases/index',
    'pages/contact/index'
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#ffffff',
    navigationBarTitleText: 'é˜²æ°´æœåŠ¡',
    navigationBarTextStyle: 'black',
    backgroundColor: '#f6f6f6'
  },
  tabBar: {
    color: '#999999',
    selectedColor: '#2563eb',
    backgroundColor: '#ffffff',
    borderStyle: 'white',
    list: [
      {
        pagePath: 'pages/index/index',
        text: 'é¦–é¡µ',
        iconPath: 'assets/tab-bar/home.png',
        selectedIconPath: 'assets/tab-bar/home-active.png'
      },
      {
        pagePath: 'pages/project/index',
        text: 'æœåŠ¡',
        iconPath: 'assets/tab-bar/service.png',
        selectedIconPath: 'assets/tab-bar/service-active.png'
      },
      {
        pagePath: 'pages/cases/index',
        text: 'æ¡ˆä¾‹',
        iconPath: 'assets/tab-bar/case.png',
        selectedIconPath: 'assets/tab-bar/case-active.png'
      },
      {
        pagePath: 'pages/contact/index',
        text: 'è”ç³»æˆ‘ä»¬',
        iconPath: 'assets/tab-bar/contact.png',
        selectedIconPath: 'assets/tab-bar/contact-active.png'
      }
    ]
  }
})
===== End of File: app.config.ts =====


===== File: app.scss =====
// app.scss
@import "./styles/custom-theme.scss";

// åŸºç¡€æ ·å¼è®¾ç½®
page {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  font-size: 28px;
  line-height: 1.5;
  background: $color-bg;
  color: $color-text-base;
}
===== End of File: app.scss =====


===== File: app.ts =====
// app.tsx
import { PropsWithChildren } from 'react'
import { useLaunch, useError, getStorageSync, setStorageSync, onNetworkStatusChange } from '@tarojs/taro'
import './styles/custom-theme.scss'
import './app.scss'

function App({ children }: PropsWithChildren<any>) {
  useLaunch(() => {
    initApp()
  })

  useError((error) => {
    console.error('App Error:', error)
  })

  const initApp = async () => {
    try {
      // åˆå§‹åŒ–æ—¥å¿—
      const logs = getStorageSync('logs') || []
      logs.unshift(Date.now())
      setStorageSync('logs', logs)

      // ç½‘ç»œçŠ¶æ€ç›‘å¬
      onNetworkStatusChange((res) => {
        console.log('network status:', res.isConnected)
      })

    } catch (error) {
      console.error('App initialization failed:', error)
    }
  }

  return children
}

export default App
===== End of File: app.ts =====


===== File: config\index.ts =====
import type { Config } from '../types'

export const config: Config = {
    ui: {
      banner: {
        interval: 3000,
        duration: 500
      },
      cases: {
        interval: 4000,
        duration: 500,
        displayCount: 0,
        cardHeight: 0
      }
    },
    contact: {
      phone: '400-888-8888',
      wechat: 'waterproof888'
    }
}
===== End of File: config\index.ts =====


===== File: index.html =====
<!-- @ts-nocheck -->
<!DOCTYPE html>
<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="format-detection" content="telephone=no,address=no">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>waterproof-app</title>
  <script><%= htmlWebpackPlugin.options.script %></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>
===== End of File: index.html =====


===== File: pages\index\index.config.ts =====
// pages/index/index.config.ts
export default {
  navigationBarTitleText: 'é˜²æ°´æœåŠ¡',
  enablePullDownRefresh: true,
  backgroundColor: '#f5f5f5',
  backgroundTextStyle: 'dark',
  navigationBarBackgroundColor: '#ffffff',
  navigationBarTextStyle: 'black'
}
===== End of File: pages\index\index.config.ts =====


===== File: pages\index\index.scss =====
// index.scss
@import "../../styles/custom-theme.scss";

.index {
  position: relative;
  z-index: 0;
  min-height: 100vh;
  background: $color-bg;
  box-sizing: border-box;

  &__header {
    position: relative;
    z-index: 0;
    width: 100%;
    height: 320px;
    overflow: hidden;

    :global {
      .swiper {
        width: 100%;
        height: 320px;
        
        .swiper-item {
          width: 100%;
          height: 100%;
          overflow: hidden;
        }

        .wx-swiper-dots {
          bottom: 12px;
          
          .wx-swiper-dot {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            transition: all 0.3s;
            
            &.wx-swiper-dot-active {
              width: 16px;
            }
          }
        }
      }
    }
  }

  &__banner-item {
    position: relative;
    width: 100%;
    height: 320px;
    overflow: hidden; 
  }

  &__banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  &__banner-text {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    padding: 64px 24px 40px;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(0, 0, 0, 0.6) 30%,
      rgba(0, 0, 0, 0.85) 100%
    );
    pointer-events: none; 
  }

  &__banner-title {
    display: block; 
    font-size: 40px;
    font-weight: bold;
    line-height: 1.2;
    color: $color-white;
    margin-bottom: 12px;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  &__banner-subtitle {
    display: block;
    font-size: 28px;
    line-height: 1.4;
    color: rgba($color-white, 0.95);
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
  }

  &__content {
    position: relative;
    z-index: 1;
    padding: 8px 16px;
  }

  &__service-intro {
    margin-bottom: 12px;
    padding: 24px;
    background: $color-bg-base;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    height: 320px;
    display: flex;
    flex-direction: column;
  }

  &__title {
    font-size: 36px;
    font-weight: bold;
    margin-bottom: 32px;
    padding-bottom: 20px;
    border-bottom: 1px solid $color-border-base;
    color: $color-text-title;
    flex-shrink: 0;
  }

  &__btn-group {
    display: flex;
    gap: 16px;
    height: 130px;
    align-items: center;
    margin-top: 24px;

    :global {
      .at-button {
        flex: 1;
        height: 130px;
        font-size: 34px;
        border-radius: 12px;
        justify-content: center;
        gap: 12px; 
        padding: 16px 8px;
        
        &--primary {
          background: $color-brand;
          box-shadow: 0 4px 12px rgba($color-brand, 0.2);
        }
        
        &--secondary {
          background: rgba($color-brand, 0.1);
          border: 2px solid $color-brand;
          color: $color-brand;
          font-weight: 500;
        }
      }
    }
  }

  &__cases {
    margin-bottom: 12px;
    padding: 24px;
    background: $color-bg-base;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  &__case-swiper {
    height: 460px;
    padding: 20px 0;
  }

  &__case-item {
    height: 420px;
    margin: 0 12px;
    background: $color-bg-base;
    border-radius: 12px;
    overflow: hidden;
    transform: scale(0.92);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

    &::after {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.35);
      opacity: 1;
      transition: opacity 0.3s ease;
      z-index: 1;
    }

    &--active {
      transform: scale(1);

      &::after {
        opacity: 0;
      }
    }
  }

  &__case-image {
    width: 100%;
    height: 240px;
    object-fit: cover;
  }

  &__case-content {
    position: relative;
    z-index: 2;
    height: 180px;
    padding: 20px;
    background: $color-bg-base;
  }

  &__case-title {
    font-size: 28px;
    font-weight: 600;
    line-height: 1.4;
    color: $color-text-title;
    margin-bottom: 12px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  &__case-desc {
    font-size: 26px;
    line-height: 1.5;
    color: $color-text-secondary;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  &__advantages {
    padding: 24px;
    background: $color-bg-base;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  &__advantage-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 24px;
  }

  &__advantage-item {
    min-height: 160px;
    padding: 24px 20px;
    background: rgba($color-brand, 0.04);
    border-radius: 12px;
    text-align: center;
    transition: transform 0.2s ease;
  }

  &__advantage-icon {
    display: block;
    font-size: 56px;
    margin-bottom: 16px;
  }

  &__advantage-value {
    font-size: 36px;
    font-weight: bold;
    color: $color-brand;
    margin-bottom: 8px;
  }

  &__advantage-label {
    font-size: 26px;
    color: $color-text-secondary;
    line-height: 1.4;
  }

  &__book-btn {
    width: 100%;
    height: 108px;
    font-size: 34px;
    margin-top: 24px;
    border-radius: 12px;
    background: $color-brand;
    box-shadow: 0 4px 12px rgba($color-brand, 0.2);
  }
}

.loading,
.error {
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
  color: $color-text-secondary;
  
  :global {
    .at-button {
      width: 240px;
    }
  }
}

@media screen and (max-width: 375px) {
  .index {
    &__content {
      padding: 4px 12px;
    }

    &__header,
    :global(.swiper),
    &__banner-item {
      height: 280px;
    }

    &__service-intro {
      height: 280px;
    }

    &__banner-title {
      font-size: 36px;
    }

    &__banner-subtitle {
      font-size: 24px;
    }

    &__title {
      font-size: 32px;
      margin-bottom: 24px;
    }

    &__service-intro,
    &__cases,
    &__advantages {
      padding: 20px;
    }

    &__btn-group {
      height: 120px;
      font-size: 32px;
    }

    &__book-btn {
      height: 96px;
      font-size: 32px;
    }
  }
}
===== End of File: pages\index\index.scss =====


===== File: pages\index\index.tsx =====
import { useEffect, useState, useCallback, useRef } from 'react'
import { View, Text, Image, Swiper, SwiperItem } from '@tarojs/components'
import type { SwiperProps } from '@tarojs/components'
import { AtButton } from 'taro-ui'
import Taro, { useDidShow } from '@tarojs/taro'
import { api } from '../../services/index-api'
import { config } from '../../config'
import { handleError } from '../../utils/error'
import { CaseDetailModal } from '../../components/case-detail-modal'
import type { Banner, ServiceCase, ServiceAdvantage } from '../../types'
import './index.scss'

export default function Index() {
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)
  const [banners, setBanners] = useState<Banner[]>([])
  const [cases, setCases] = useState<ServiceCase[]>([])
  const [advantages, setAdvantages] = useState<ServiceAdvantage[]>([])
  const [selectedCase, setSelectedCase] = useState<ServiceCase | null>(null)
  const [showCaseModal, setShowCaseModal] = useState(false)
  const [currentCaseIndex, setCurrentCaseIndex] = useState(0)

  const refreshing = useRef(false)
  const mounted = useRef(false)

  const fetchData = useCallback(async (showLoading = true) => {
    try {
      if (showLoading) {
        setLoading(true)
      }
      setError(null)

      const [bannerRes, caseRes, advantageRes] = await Promise.all([
        api.getBanners(),
        api.getCases(),
        api.getAdvantages()
      ])

      if (mounted.current) {
        setBanners(bannerRes.data)
        setCases(caseRes.data)
        setAdvantages(advantageRes.data)
      }
    } catch (err) {
      console.error('åˆå§‹åŒ–æ•°æ®å¤±è´¥:', err)
      if (mounted.current) {
        setError(handleError(err))
      }
    } finally {
      if (showLoading && mounted.current) {
        setLoading(false)
      }
      refreshing.current = false
    }
  }, [])

  useEffect(() => {
    mounted.current = true
    fetchData()
    return () => {
      mounted.current = false
    }
  }, [fetchData])

  useDidShow(() => {
    if (!refreshing.current) {
      fetchData(false)
    }
  })

  const handleRefresh = useCallback(async () => {
    if (refreshing.current) return
    refreshing.current = true
    
    try {
      await fetchData(false)
      Taro.showToast({ title: 'åˆ·æ–°æˆåŠŸ', icon: 'success' })
    } catch (error) {
      console.error('åˆ·æ–°å¤±è´¥:', error)
      Taro.showToast({
        title: handleError(error),
        icon: 'none'
      })
    } finally {
      Taro.stopPullDownRefresh()
    }
  }, [fetchData])

  const handleCall = useCallback(() => {
    Taro.makePhoneCall({
      phoneNumber: config.contact.phone
    }).catch(err => {
      if (!err.errMsg?.includes('cancel')) {
        Taro.showToast({ title: 'æ‹¨å·å¤±è´¥', icon: 'none' })
      }
    })
  }, [])

  const handleWechat = useCallback(() => {
    Taro.setClipboardData({
      data: config.contact.wechat,
      success: () => {
        Taro.showToast({
          title: 'å¾®ä¿¡å·å·²å¤åˆ¶',
          icon: 'none'
        })
      }
    })
  }, [])

  const handleCaseClick = useCallback((caseItem: ServiceCase) => {
    setSelectedCase(caseItem)
    setShowCaseModal(true)
  }, [])

  const handleBooking = useCallback(() => {
    Taro.switchTab({ url: '/pages/contact/index' })
  }, [])

  const handleCaseChange: SwiperProps['onChange'] = useCallback((e) => {
    setCurrentCaseIndex(e.detail.current)
  }, [])

  if (loading) {
    return (
      <View className='loading'>
        <Text>åŠ è½½ä¸­...</Text>
      </View>
    )
  }

  if (error) {
    return (
      <View className='error'>
        <Text>{error}</Text>
        <AtButton type='primary' onClick={handleRefresh}>é‡è¯•</AtButton>
      </View>
    )
  }

  return (
    <View className='index'>
      <View className='index__header'>
        <Swiper
          className='swiper'
          circular
          autoplay
          interval={3000}
          duration={500}
          indicatorDots
          indicatorColor='rgba(255, 255, 255, 0.4)'
          indicatorActiveColor='#ffffff'
        >
          {banners.map(banner => (
            <SwiperItem key={banner.id} className='swiper-item'>
              <View className='index__banner-item'>
                <Image 
                  src={banner.imageUrl}
                  className='index__banner-image'
                  mode='aspectFill'
                  lazyLoad
                />
                <View className='index__banner-text'>
                  <Text className='index__banner-title'>{banner.title}</Text>
                  <Text className='index__banner-subtitle'>{banner.subtitle}</Text>
                </View>
              </View>
            </SwiperItem>
          ))}
        </Swiper>
      </View>

      <View className='index__content'>
        <View className='index__service-intro'>
          <View className='index__title'>ä¸“ä¸šé˜²æ°´æœåŠ¡</View>
          <View className='index__btn-group'>
            <AtButton type='primary' onClick={handleCall}>ğŸ“ç”µè¯å’¨è¯¢</AtButton>
            <AtButton type='secondary' onClick={handleWechat}>ğŸ’¬å¾®ä¿¡å’¨è¯¢</AtButton>
          </View>
        </View>

        <View className='index__cases'>
          <View className='index__title'>ç²¾é€‰æ¡ˆä¾‹</View>
          <Swiper
            className='index__case-swiper'
            circular
            autoplay={!showCaseModal}
            interval={4000}
            duration={500}
            previousMargin='30px'
            nextMargin='30px'
            onChange={handleCaseChange}
          >
            {cases.map((item, index) => (
              <SwiperItem key={item.id}>
                <View 
                  className={`index__case-item ${index === currentCaseIndex ? 'index__case-item--active' : ''}`}
                  onClick={() => handleCaseClick(item)}
                >
                  <Image 
                    src={item.imageUrl}
                    className='index__case-image'
                    mode='aspectFill'
                    lazyLoad
                  />
                  <View className='index__case-content'>
                    <Text className='index__case-title'>{item.title}</Text>
                    <Text className='index__case-desc'>{item.description}</Text>
                  </View>
                </View>
              </SwiperItem>
            ))}
          </Swiper>
        </View>

        <View className='index__advantages'>
          <View className='index__title'>æˆ‘ä»¬çš„ä¼˜åŠ¿</View>
          <View className='index__advantage-grid'>
            {advantages.map(item => (
              <View key={item.id} className='index__advantage-item'>
                <Text className='index__advantage-icon'>{item.icon}</Text>
                <Text className='index__advantage-value'>{item.value}</Text>
                <Text className='index__advantage-label'>{item.label}</Text>
              </View>
            ))}
          </View>
          <AtButton 
            type='primary'
            className='index__book-btn'
            onClick={handleBooking}
          >
            å¿«é€Ÿé¢„çº¦
          </AtButton>
        </View>
      </View>

      <CaseDetailModal
        isOpen={showCaseModal}
        onClose={() => setShowCaseModal(false)}
        data={selectedCase}
      />
    </View>
  )
}
===== End of File: pages\index\index.tsx =====


===== File: services\index-api.ts =====
import type { Banner, ServiceCase, ServiceAdvantage, BookingForm, ApiResponse } from '../types'
import { AppError } from '../utils/error'
import { mockBanners, mockCases, mockAdvantages } from './index-mock-data'

async function mockRequest<T>(data: T, delay = 500): Promise<T> {
  await new Promise(resolve => setTimeout(resolve, delay))
  return data
}

export const api = {
  getBanners(): Promise<ApiResponse<Banner[]>> {
    return mockRequest({ code: 0, message: 'success', data: mockBanners })
  },

  getCases(): Promise<ApiResponse<ServiceCase[]>> {
    return mockRequest({ code: 0, message: 'success', data: mockCases })
  },

  getCaseDetail(id: number): Promise<ApiResponse<ServiceCase>> {
    const caseItem = mockCases.find(item => item.id === id)
    if (!caseItem) {
      throw new AppError(404, 'æ¡ˆä¾‹ä¸å­˜åœ¨')
    }
    return mockRequest({ code: 0, message: 'success', data: caseItem })
  },

  getAdvantages(): Promise<ApiResponse<ServiceAdvantage[]>> {
    return mockRequest({ code: 0, message: 'success', data: mockAdvantages })
  },

  async submitBooking(form: BookingForm): Promise<ApiResponse<{ id: number }>> {
    // Validate required fields
    if (!form.name?.trim()) {
      throw new AppError(400, 'è¯·è¾“å…¥å§“å')
    }
    if (!form.phone?.trim()) {
      throw new AppError(400, 'è¯·è¾“å…¥æ‰‹æœºå·')
    }

    // Validate phone format
    const phoneRegex = /^1[3-9]\d{9}$/
    if (!phoneRegex.test(form.phone)) {
      throw new AppError(400, 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·')
    }

    // Validate field lengths
    if (form.name.length > 20) {
      throw new AppError(400, 'å§“åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦')
    }
    if (form.address && form.address.length > 100) {
      throw new AppError(400, 'åœ°å€ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦')
    }
    if (form.remark && form.remark.length > 200) {
      throw new AppError(400, 'å¤‡æ³¨ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦')
    }

    // Simulate API call
    return mockRequest({ 
      code: 0, 
      message: 'success', 
      data: { id: Date.now() } 
    }, 1000)
  }
}
===== End of File: services\index-api.ts =====


===== File: services\index-mock-data.ts =====
import type { Banner, ServiceCase, ServiceAdvantage } from '../types'

export const mockBanners: Banner[] = [
  {
    id: 1,
    title: 'å“è´¨æœåŠ¡ä¿éšœ',
    subtitle: 'åå¹´è´¨ä¿ ç»ˆèº«ç»´æŠ¤',
    imageUrl: require('../assets/banner/banner1.png')
  },
  {
    id: 2,
    title: 'ä¸“ä¸šé˜²æ°´æœåŠ¡',
    subtitle: 'ä¸€ç«™å¼è§£å†³æ‚¨çš„æ¸—æ¼é—®é¢˜',
    imageUrl: require('../assets/banner/banner2.png')
  }
]

export const mockCases: ServiceCase[] = [
  {
    id: 1,
    title: 'åœ°é“ç«™é˜²æ°´å·¥ç¨‹',
    description: 'ä¸ºåŒ—äº¬æ–°å»ºåœ°é“ç«™æä¾›é˜²æ°´ä¿æŠ¤',
    imageUrl: require('../assets/case/case1.png'),
    content: 'æœ¬é¡¹ç›®æ˜¯ä¸ºåŒ—äº¬å¸‚æ”¿æ–°å»ºåœ°é“ç«™æä¾›çš„æ•´ä½“é˜²æ°´è§£å†³æ–¹æ¡ˆã€‚é‡‡ç”¨äº†æœ€æ–°çš„é˜²æ°´ææ–™å’Œå·¥è‰ºï¼Œç¡®ä¿åœ°é“ç«™åœ¨ä½¿ç”¨å¯¿å‘½å†…ä¸ä¼šå‡ºç°æ¸—æ¼é—®é¢˜ã€‚é¡¹ç›®åŒ…æ‹¬é˜²æ°´è®¾è®¡ã€ææ–™é€‰å‹ã€æ–½å·¥å’ŒéªŒæ”¶ç­‰å…¨è¿‡ç¨‹æœåŠ¡ã€‚',
    type: 'åŸºç¡€è®¾æ–½',
    date: '2024-01-06',
    views: 1280
  },
  {
    id: 2,
    title: 'å•†ä¸šå»ºç­‘é˜²æ°´å·¥ç¨‹',
    description: 'ä¸ºä¸Šæµ·æŸå•†ä¸šå»ºç­‘æä¾›å…¨é¢é˜²æ°´è§£å†³æ–¹æ¡ˆ',
    imageUrl: require('../assets/case/case2.png'),
    content: 'è¯¥é¡¹ç›®æ˜¯ä¸ºä¸Šæµ·æŸå¤§å‹å•†ä¸šç»¼åˆä½“æä¾›çš„é˜²æ°´ç»´æŠ¤æœåŠ¡ã€‚ä¸»è¦è§£å†³äº†å»ºç­‘å¤–å¢™æ¸—æ°´ã€åœ°ä¸‹è½¦åº“æ¸—æ¼ç­‰é—®é¢˜ã€‚é‡‡ç”¨äº†ç¯ä¿å‹é˜²æ°´ææ–™ï¼Œç¡®ä¿äº†é˜²æ°´æ•ˆæœçš„åŒæ—¶ä¹Ÿä¿æŠ¤äº†ç¯å¢ƒã€‚',
    type: 'å•†ä¸šå»ºç­‘',
    date: '2024-01-05',
    views: 960
  },
  {
    id: 3,
    title: 'ä½å®…å°åŒºé˜²æ°´å·¥ç¨‹',
    description: 'ä¸ºå¹¿å·æŸé«˜æ¡£ä½å®…å°åŒºæä¾›å±‹é¢é˜²æ°´æœåŠ¡',
    imageUrl: require('../assets/case/case2.png'),
    content: 'æœ¬é¡¹ç›®ä¸ºå¹¿å·æŸé«˜æ¡£ä½å®…å°åŒºæä¾›æ•´ä½“å±‹é¢é˜²æ°´æœåŠ¡ã€‚é‡‡ç”¨äº†å…ˆè¿›çš„é˜²æ°´æŠ€æœ¯å’Œææ–™ï¼Œè§£å†³äº†æˆ¿å±‹æ¸—æ¼é—®é¢˜ï¼Œæé«˜äº†å±…æ°‘çš„ç”Ÿæ´»è´¨é‡ã€‚é¡¹ç›®è·å¾—äº†ä¸šä¸»çš„ä¸€è‡´å¥½è¯„ã€‚',
    type: 'ä½å®…å»ºç­‘',
    date: '2024-01-04',
    views: 756
  }
]

export const mockAdvantages: ServiceAdvantage[] = [
  {
    id: 1,
    icon: 'ğŸ…',
    value: '100+',
    label: 'ä¸“ä¸šè®¤è¯'
  },
  {
    id: 2,
    icon: 'â±ï¸',
    value: '30åˆ†é’Ÿ',
    label: 'å¿«é€Ÿå“åº”'
  },
  {
    id: 3,
    icon: 'ğŸ“Š',
    value: '1000+',
    label: 'æˆåŠŸæ¡ˆä¾‹'
  },
  {
    id: 4,
    icon: 'ğŸ˜Š',
    value: '99%',
    label: 'å®¢æˆ·æ»¡æ„'
  }
]
===== End of File: services\index-mock-data.ts =====


===== File: styles\custom-theme.scss =====
/* custom-theme.scss */

/* The Color of O2Team Brand */
$color-brand: #2563eb;                      // å“ç‰Œä¸»è‰²
$color-brand-light: #60a5fa;                // å“ç‰Œè‰²-æµ…è‰²
$color-brand-dark: #1d4ed8;                 // å“ç‰Œè‰²-æ·±è‰²
$color-brand-disabled: #bfdbfe;             // å“ç‰Œè‰²-ç¦ç”¨

/* Color */
$color-success: #22c55e;                    // æˆåŠŸè‰²
$color-error: #ef4444;                      // é”™è¯¯è‰²
$color-warning: #f59e0b;                    // è­¦å‘Šè‰²
$color-info: #78A4FA;

/* Color Palette */
$color-black-0: #000;
$color-black-1: #333;
$color-black-2: #7F7F7F;
$color-black-3: #B2B2B2;

$color-grey-0: #333;
$color-grey-1: #666;
$color-grey-2: #999;
$color-grey-3: #CCC;
$color-grey-4: #E5E5E5;
$color-grey-5: #F0F0F0;
$color-grey-6: #F7F7F7;

$color-white: #FFF;

/* Text Color */
$color-text-base: #1e293b;                  // åŸºç¡€æ–‡å­—è‰²
$color-text-base-inverse: #ffffff;          // åè‰²æ–‡å­—è‰²
$color-text-secondary: #475569;             // æ¬¡è¦æ–‡å­—è‰²
$color-text-placeholder: #94a3b8;           // å ä½æ–‡å­—è‰²
$color-text-disabled: #cbd5e1;              // ç¦ç”¨æ–‡å­—è‰²
$color-text-title: #2C405A;
$color-text-paragraph: #3F536E;

/* Link */
$color-link: #6190E8;
$color-link-hover: #79A1EB;
$color-link-active: #4F7DE2;
$color-link-disabled: #BFBFBF;

/* èƒŒæ™¯è‰² */
$color-bg: #f8fafc;                         // èƒŒæ™¯è‰²
$color-bg-base: #ffffff;                    // ç»„ä»¶èƒŒæ™¯è‰²
$color-bg-light: #f1f5f9;                   // æµ…èƒŒæ™¯è‰²
$color-bg-dark: #e2e8f0;                    // æ·±èƒŒæ™¯è‰²
$color-bg-grey: #F7F7F7;

/* è¾¹æ¡†é¢œè‰² */
$color-border-base: #e2e8f0;                // åŸºç¡€è¾¹æ¡†è‰²
$color-border-split: #edf2f7;               // åˆ†å‰²çº¿ (åŸtint 20%)
$color-border-light: #f1f5f9;               // æµ…è¾¹æ¡†è‰²
$color-border-dark: #cbd5e1;                // æ·±è¾¹æ¡†è‰²
$color-border-lighter: #f7fafc;             // æ›´æµ…è¾¹æ¡†è‰² (åŸtint 50%)
$color-border-lightest: #fcfdfe;            // æœ€æµ…è¾¹æ¡†è‰² (åŸtint 80%)
$color-border-grey: #CCC;

/* å›¾æ ‡é¢œè‰² */
$color-icon-base: #CCC;

/* åŠŸèƒ½è‰²ç›¸å…³ */
// æˆåŠŸè‰²
$color-success-light: #86efac;              // æˆåŠŸè‰²-æµ…è‰²
$color-success-dark: #16a34a;               // æˆåŠŸè‰²-æ·±è‰²
$color-success-disabled: #bbf7d0;           // æˆåŠŸè‰²-ç¦ç”¨

// è­¦å‘Šè‰²
$color-warning-light: #fcd34d;              // è­¦å‘Šè‰²-æµ…è‰²
$color-warning-dark: #d97706;               // è­¦å‘Šè‰²-æ·±è‰²
$color-warning-disabled: #fde68a;           // è­¦å‘Šè‰²-ç¦ç”¨

// é”™è¯¯è‰²
$color-error-light: #fca5a5;                // é”™è¯¯è‰²-æµ…è‰²
$color-error-dark: #dc2626;                 // é”™è¯¯è‰²-æ·±è‰²
$color-error-disabled: #fecaca;             // é”™è¯¯è‰²-ç¦ç”¨

/**
 * å¼•å…¥Taro UIé»˜è®¤æ ·å¼
 */
@import "~taro-ui/dist/style/index.scss";
===== End of File: styles\custom-theme.scss =====


===== File: types\index.ts =====
// types/index.ts

// API åŸºç¡€ç±»å‹
export interface ApiResponse<T> {
  code: number
  message: string
  data: T
}

// åˆ†é¡µç›¸å…³
export interface PaginationParams {
  page: number
  pageSize: number
}

export interface PaginatedResponse<T> extends ApiResponse<T> {
  pagination: {
    total: number
    totalPages: number
    currentPage: number
    pageSize: number
  }
}

//ä¸»é¡µ

// Bannerç›¸å…³
export interface Banner {
  id: number
  title: string
  subtitle: string
  imageUrl: string
}

// æœåŠ¡æ¡ˆä¾‹ç›¸å…³
export interface ServiceCase {
  id: number
  title: string
  description: string
  imageUrl: string
  content?: string
  type: string
  date: string
  views: number
}

// æœåŠ¡ä¼˜åŠ¿ç›¸å…³
export interface ServiceAdvantage {
  id: number
  icon: string
  value: string
  label: string
}

// é¢„çº¦è¡¨å•ç›¸å…³
export interface BookingForm {
  name: string
  phone: string
  address?: string
  remark?: string
}

// æœåŠ¡ç±»å‹
export type ServiceType = 'all' | 'home' | 'outdoor' | 'industrial'

export interface ProcessStep {
  step: number
  title: string
  description: string
  status?: 'pending' | 'processing' | 'completed' | 'error'
}

export interface ServiceItem {
  id: number
  title: string
  price: number
  unit: string
  type: ServiceType
  description: string
  features: string[]
  process: ProcessStep[]
  estimatedDuration?: string
  minArea?: number
  maxArea?: number
  warranty?: string
  imageUrl?: string
  updatedAt?: string
  createdAt?: string
}

// æœç´¢ç›¸å…³
export interface SearchOptions {
  sortBy?: 'relevance' | 'price' | 'createdAt'
  sortOrder?: 'asc' | 'desc'
  minPrice?: number
  maxPrice?: number
  minArea?: number
  maxArea?: number
}

// FAQ ç›¸å…³
export interface FAQ {
  id: number
  question: string
  answer: string
  category: string
  order?: number
  isHot?: boolean
}

// ç»„ä»¶ Props ç±»å‹
export interface SearchBarProps {
  value: string
  placeholder?: string
  className?: string
  loading?: boolean
  delay?: number
  maxLength?: number
  showAction?: boolean
  actionText?: string
  onChange: (value: string) => void
  onSearch?: (value: string) => void
  onFocus?: () => void
  onBlur?: () => void
  onClear?: () => void
}

export interface ServiceCardProps {
  service: ServiceItem
  expanded?: boolean
  loading?: boolean
  className?: string
  showAction?: boolean
  onToggle?: (id: number) => void
  onBook?: (service: ServiceItem) => void
}

export interface FAQSectionProps {
  faqs: FAQ[]
  title?: string
  className?: string
  emptyText?: string
  onFAQClick?: (faq: FAQ) => void
}

// çŠ¶æ€ç®¡ç†ç±»å‹
export interface ProjectPageState {
  loading: boolean
  services: ServiceItem[]
  faqs: FAQ[]
  searchValue: string
  currentTab: number
  expandedService: number | null
  error: string | null
  initialized: boolean
  searchHistory: string[]
  filter: SearchOptions
}

// é€šç”¨ç»„ä»¶ç±»å‹
export interface LoadingProps {
  size?: 'small' | 'normal' | 'large'
  color?: string
  className?: string
  text?: string
}

export interface EmptyProps {
  text?: string
  image?: string
  className?: string
  children?: React.ReactNode
}

export interface ErrorProps {
  text?: string
  code?: number
  className?: string
  onRetry?: () => void
}

// é”™è¯¯ç›¸å…³
export interface AppErrorType extends Error {
  code: number
  details?: any
}

// Tab ç›¸å…³
export interface TabItem {
  title: string
  value: ServiceType
  badge?: number | string
}

export interface TabsProps {
  items: TabItem[]
  value: string | number
  className?: string
  onChange: (value: string | number) => void
}

// è¿‡æ»¤å™¨ç›¸å…³
export interface FilterOption {
  label: string
  value: string | number
  disabled?: boolean
}

export interface FilterGroupProps {
  title: string
  options: FilterOption[]
  value: string | number | (string | number)[]
  multiple?: boolean
  className?: string
  onChange: (value: string | number | (string | number)[]) => void
}

// ä¸šåŠ¡ç±»å‹
export interface ServiceBooking {
  id: number
  serviceId: number
  userId: string
  status: 'pending' | 'confirmed' | 'cancelled' | 'completed'
  area?: number
  address?: string
  contactName: string
  contactPhone: string
  appointmentTime?: string
  remark?: string
  createdAt: string
}

export interface ServiceComment {
  id: number
  serviceId: number
  userId: string
  rating: number
  content: string
  images?: string[]
  reply?: string
  createdAt: string
}

// é…ç½®ç±»å‹
export interface ProjectConfig {
  searchDebounceDelay: number
  maxSearchHistory: number
  defaultPageSize: number
  imageBaseUrl: string
  priceUnit: string
  areaUnit: string
}
===== End of File: types\index.ts =====


===== File: utils\error.ts =====
// utils/error.ts

// è‡ªå®šä¹‰åº”ç”¨é”™è¯¯ç±»
export class AppError extends Error {
  constructor(
    public code: number,
    message: string
  ) {
    super(message)
    this.name = 'AppError'
  }
}

// ç±»å‹ä¿æŠ¤ï¼šåˆ¤æ–­æ˜¯å¦ä¸º AppError
export function isAppError(error: unknown): error is AppError {
  return error instanceof AppError
}

// é€šç”¨é”™è¯¯å¤„ç†å‡½æ•°
export function handleError(error: unknown): string {
  // å¦‚æœæ˜¯åº”ç”¨è‡ªå®šä¹‰é”™è¯¯
  if (isAppError(error)) {
    return error.message
  }

  // å¦‚æœæ˜¯æ ‡å‡† Error å¯¹è±¡
  if (error instanceof Error) {
    return error.message
  }

  // å…¶ä»–æœªçŸ¥é”™è¯¯ç±»å‹
  return 'æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
}

// ä¸šåŠ¡é”™è¯¯ç æ˜ å°„
export const ErrorCodeMap: Record<number, string> = {
  400: 'è¯·æ±‚å‚æ•°é”™è¯¯',
  401: 'æœªç™»å½•æˆ–ç™»å½•å·²è¿‡æœŸ',
  403: 'æ²¡æœ‰æ“ä½œæƒé™',
  404: 'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨',
  500: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯',
  502: 'ç½‘å…³é”™è¯¯',
  503: 'æœåŠ¡ä¸å¯ç”¨',
  504: 'ç½‘å…³è¶…æ—¶'
}

// HTTP é”™è¯¯å¤„ç†
export function handleHttpError(code: number): string {
  return ErrorCodeMap[code] || 'ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
}

// è¡¨å•é”™è¯¯å¤„ç†
export function handleFormError(error: unknown): { 
  [key: string]: string 
} {
  if (isAppError(error)) {
    try {
      // å°è¯•è§£æé”™è¯¯ä¿¡æ¯æ˜¯å¦ä¸º JSON æ ¼å¼çš„å­—æ®µé”™è¯¯
      const fieldsError = JSON.parse(error.message)
      if (typeof fieldsError === 'object') {
        return fieldsError
      }
    } catch {
      // è§£æå¤±è´¥åˆ™è¿”å›é€šç”¨é”™è¯¯
      return { _error: error.message }
    }
  }
  return { _error: handleError(error) }
}

// ç½‘ç»œé”™è¯¯åˆ¤æ–­
export function isNetworkError(error: unknown): boolean {
  if (error instanceof Error) {
    return error.message.toLowerCase().includes('network') || 
           error.message.toLowerCase().includes('timeout') ||
           error.message.toLowerCase().includes('connection')
  }
  return false
}

// è¶…æ—¶é”™è¯¯åˆ¤æ–­
export function isTimeoutError(error: unknown): boolean {
  if (error instanceof Error) {
    return error.message.toLowerCase().includes('timeout')
  }
  return false
}

// åˆ›å»ºä¸šåŠ¡é”™è¯¯
export function createBusinessError(code: number, message: string): AppError {
  return new AppError(code, message)
}

// åŒ…è£…å¼‚æ­¥é”™è¯¯å¤„ç†
export async function wrapAsyncError<T>(
  promise: Promise<T>,
  errorMessage?: string
): Promise<T> {
  try {
    return await promise
  } catch (error) {
    throw new AppError(
      isAppError(error) ? error.code : 500,
      errorMessage || handleError(error)
    )
  }
}

// é”™è¯¯æç¤ºæ ¼å¼åŒ–
export function formatErrorMessage(error: unknown): string {
  if (isAppError(error)) {
    const code = error.code
    const message = error.message
    return `${message}${code ? ` (${code})` : ''}`
  }
  return handleError(error)
}
===== End of File: utils\error.ts =====

